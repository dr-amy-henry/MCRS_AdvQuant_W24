---
title: "Relandscaping Cleaning Template"
format: html
editor: visual
---

## Relandscaping Data Cleaning: FILL IN YOUR VARIABLE HERE

Winter 2024 - MCRS Advanced Quantitative Methods Class Project

Team #: 2

Team Members:

### Load Packages

```{r}
#install.packages(tidyverse)
library(tidyverse)
library(ggplot2)
library(readr)
library(readxl)

```

### Import Data Files

```{r}
Quad_Winter_19 <- read_excel("Quad_Winter 2019 GH Relandscaping Quadrat Data.xlsx", 
             sheet = 1, 
             col_types = "text")
            # col_names = FALSE, 
             # col_names = TRUE,
             #col_types = TRUE, 
            #col_types = "text" 

```

```{r}
Quad_Spring_18 <- read_excel("Quad_GH Relandscaping Quadrat Data_Jun2018.xlsx",
                             col_types = "text")
```

```{r}
QuadFall_18<- read_excel("Quad_Fall 2018 GH Relandscaping Quadrat Data.xlsx",
                         col_types = "text")
```

### Create Primary

Reformat the data from each of your imported spreadsheets to have common columns and column formats so you can bind them into one object.

#### Data Frame #1: Fall 2018 data (example)

```{r}
Quad_Winter_19_Clean <- Quad_Winter_19 |>
  select(2:9) |>
  mutate(Turf = case_when(Block == "No TURF Control" ~ "NonTurf",
                    Block == "TURF Control" ~ "Turf",
         Quad == "3.0" ~ "NonTurf")) |>
  #mutate(Block = as.numeric(Block))|>
 # mutate(Quad = as.numeric(Quad)) |>
  mutate(Date="Winter 2019")
```

#### Data Frame #2: fill in and add as needed

```{r}
Quad_Spring_18_Clean <- Quad_Spring_18 |>
  select(2:9) |>
  mutate(Block = "") |>
  #mutate(Block = as.numeric(Block)) |>
  #mutate(Quad = as.numeric(Quad)) |>
  mutate(Date="Spring 2018")
```

```{r}
QuadFall_18_Clean <- QuadFall_18 |>
  select(2:9) |>
  mutate(Turf = case_when(Quad == "Non-Turf Control" ~ "NonTurf",
                    Quad == "Turf Control" ~ "Turf")) |>
  #mutate(Quad = as.numeric(Quad))|>
  mutate(Date="Fall 2018")
```

#### Complete Raw Data

Bind your cleaned data frames together into one object. Clean up any remaining column names or formats.

```{r}
Quad_Combined <- bind_rows(Quad_Winter_19_Clean, Quad_Spring_18_Clean, QuadFall_18_Clean)
```

### Cleaning

Go through your raw data frame column by column to find and correct issues.

#### Issue #1: Change column names

```{r}
Quad_Combined_Issue_1 <- Quad_Combined |>
  rename(Species_Code = `Species Code`, Percent_Cover = Cover)
```

#### Issue #2: Remove unnecessary rows and columns

```{r}
Quad_Combined_Issue_2 <- Quad_Combined_Issue_1 |>
  select(2:7,9:10) |>
  filter(Species_Code != "six-letter code")
```

#### Issue #3: Make columns uniform

```{r}
Quad_Combined_Issue_3 <- Quad_Combined_Issue_2 |>
  mutate_all(na_if, "-") |>
  
  mutate(Percent_Cover = str_replace(Percent_Cover, '% Cover', '')) |>
  
  mutate(Quad = as.numeric(Quad)) |> 
  mutate(Block = as.numeric(Block)) |>
  mutate(Count = as.numeric(Count)) |>
  mutate(Percent_Cover = as.numeric(Percent_Cover))

Quad_Combined_Issue_3$Species_Code[Quad_Combined_Issue_3$Species_Code == "HEDHEL (eng ivy)"] <- "HEDHEL"
Quad_Combined_Issue_3$Species_Code[Quad_Combined_Issue_3$Species_Code == "UK(01)"] <- "UNK1"
Quad_Combined_Issue_3$Species_Code[Quad_Combined_Issue_3$Species_Code == "UK(02)"] <- "UNK2"
Quad_Combined_Issue_3$Species_Code[Quad_Combined_Issue_3$Species_Code == "UK(03)"] <- "UNK3"
Quad_Combined_Issue_3$Species_Code[Quad_Combined_Issue_3$Species_Code == "UK(04)"] <- "UNK4"

Quad_Combined_Issue_3$Treatment[Quad_Combined_Issue_3$Treatment =="NN"]<-"NonNative"
Quad_Combined_Issue_3$Treatment[Quad_Combined_Issue_3$Treatment =="N"]<-"Native"


```

#### Issue #4: 

```{r}

```

### Save your cleaned and complete Primary data frame to .csv and .Rdata and save the file as VARIABLE_Primary.csv or similar.

```{r}

```
